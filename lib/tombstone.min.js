!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("tombstone",[],e):"object"==typeof exports?exports.tombstone=e():t.tombstone=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Statement=void 0;var o=r(2),a=n(o);e.Statement=a["default"]},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){var e=!1,r=[],n=[],o=!0,a=!1,i=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;if(f.match(/^[a-z]{1}$/i))r.push(f);else if(")"===f){for(e=!1;!e&&"("!==n[n.length-1];)r.push(n.pop()),e="("===n[n.length-1];n.pop()}else{for(;u(f,n[n.length-1]);)r.push(n.pop());n.push(f)}}}catch(c){a=!0,i=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(a)throw i}}return r.push.apply(r,n.reverse()),r}function o(t){var e=/^[a-z()]{1}$/i,r=0,n=0,o=null,a=null,i=null,u=!1,l=!1,s=null;if(0===t.length)return"no symbols!";for(var f=0;f<t.length;++f)o=t[f],i=void 0===t[f+1]?"":t[f+1],a=void 0===t[f-1]?"":t[f-1],u=["~","&","||","->","<->"].includes(o),u||o.match(e)||(s="unknown symbol!"),"("===o?r+=1:")"===o?n+=1:u&&l&&"~"!==o?s="double operators!":u&&"~"!==o?a.match(e)&&("~"===i||i.match(e))||(s="missing operand!"):"~"===o&&(i.match(e)||(s="missing operand!")),l=u;return r!==n?s="unbalanced parentheses!":t.length===r+n&&(s="no symbols!"),s}function a(t){var e=["(",")","->","&","||","~","<->"],r=t.split(" "),n=0,o=null,a=null,i=[],u=!0,l=!1,s=void 0;try{for(var f,c=r[Symbol.iterator]();!(u=(f=c.next()).done);u=!0){var h=f.value;if(!h.match(/^[a-z]+$/i)&&e.indexOf(h)<0)for(n=0;n<h.length;)o=h.slice(n,n+2),a=h.slice(n,n+3),"<->"===a?(i.push(a),n+=3):"->"===o||"||"===o?(i.push(o),n+=2):(i.push(h.charAt(n)),n+=1);else i.push(h)}}catch(p){l=!0,s=p}finally{try{!u&&c["return"]&&c["return"]()}finally{if(l)throw s}}return i}function i(t){var e=a(t),r=[],n=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var s=u.value;s.match(/^[a-z]+$/i)&&r.push(s)}}catch(f){o=!0,i=f}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw i}}return r}function u(t,e){var r=["~","&","||","->","<->"];return void 0!==e&&"("!==e&&r.indexOf(t)>r.indexOf(e)}function l(t,e){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;["(",")","->","&","||","<->","~"].includes(l)?r.push(l):r.push(e[l])}}catch(s){o=!0,a=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}function s(t,e){switch(t){case"~":return!e[0];case"&":return e[0]&&e[1];case"||":return e[0]||e[1];case"->":return!e[1]||e[0];case"<->":return e[0]===e[1]}}function f(t){var e=[],r=null,n=0,o=!0,a=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s.match(/^[a-z]{1}$/i)?e.push({name:s}):(r=e.pop(),"~"===s?e.push({name:s,children:[r]}):e.push({name:s,children:[r,e.pop()]})),n+=1}}catch(f){a=!0,i=f}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw i}}return{tree:e,size:n}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=function(){function t(e){r(this,t),this.symbols=a(e);var u=o(this.symbols);if(u)throw new Error(u);this.statement=e,this.variables=i(this.statement),this.symbols=a(this.statement),this.symbolsRPN=n(this.symbols),this.tree=f(this.symbolsRPN)}return c(t,[{key:"evaluate",value:function(t){var e=l(this.symbolsRPN,t),r=[],n=[],o=!0,a=!1,i=void 0;try{for(var u,f=e[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;"boolean"==typeof c?r.push(c):(n.push(r.pop()),"~"!==c&&n.push(r.pop()),r.push(s(c,n)),n=[])}}catch(h){a=!0,i=h}finally{try{!o&&f["return"]&&f["return"]()}finally{if(a)throw i}}return r[0]}},{key:"variables",value:function(){return this.variables}},{key:"symbols",value:function(){return this.symbols}}]),t}();e["default"]=h,t.exports=e["default"]}])});
//# sourceMappingURL=tombstone.min.js.map